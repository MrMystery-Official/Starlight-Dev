; Listing generated by Microsoft (R) Optimizing Compiler Version 19.37.32822.0 

include listing.inc

INCLUDELIB OLDNAMES

PUBLIC	?Initialize@GameDataListMgr@@YAXXZ		; GameDataListMgr::Initialize
PUBLIC	?mGameDataList@GameDataListMgr@@3VBymlFile@@A	; GameDataListMgr::mGameDataList
;	COMDAT pdata
pdata	SEGMENT
$pdata$??__FmGameDataList@GameDataListMgr@@YAXXZ DD imagerel ??__FmGameDataList@GameDataListMgr@@YAXXZ
	DD	imagerel ??__FmGameDataList@GameDataListMgr@@YAXXZ+68
	DD	imagerel $unwind$??__FmGameDataList@GameDataListMgr@@YAXXZ
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$??__EmGameDataList@GameDataListMgr@@YAXXZ DD imagerel ??__EmGameDataList@GameDataListMgr@@YAXXZ
	DD	imagerel ??__EmGameDataList@GameDataListMgr@@YAXXZ+52
	DD	imagerel $unwind$??__EmGameDataList@GameDataListMgr@@YAXXZ
;	COMDAT xdata
xdata	SEGMENT
$ip2state$??__EmGameDataList@GameDataListMgr@@YAXXZ DB 04H
	DB	016H
	DB	06H
	DB	01aH
	DB	08H
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$stateUnwindMap$??__EmGameDataList@GameDataListMgr@@YAXXZ DB 08H
	DB	0eH
	DD	imagerel ?dtor$0@?0???__EmGameDataList@GameDataListMgr@@YAXXZ@4HA
	DB	02eH
	DD	imagerel ?dtor$1@?0???__EmGameDataList@GameDataListMgr@@YAXXZ@4HA
	DB	02eH
	DD	imagerel ?dtor$2@?0???__EmGameDataList@GameDataListMgr@@YAXXZ@4HA
	DB	02eH
	DD	imagerel ?dtor$3@?0???__EmGameDataList@GameDataListMgr@@YAXXZ@4HA
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$cppxdata$??__EmGameDataList@GameDataListMgr@@YAXXZ DB 028H
	DD	imagerel $stateUnwindMap$??__EmGameDataList@GameDataListMgr@@YAXXZ
	DD	imagerel $ip2state$??__EmGameDataList@GameDataListMgr@@YAXXZ
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??__EmGameDataList@GameDataListMgr@@YAXXZ DD 010411H
	DD	04204H
	DD	imagerel __CxxFrameHandler4
	DD	imagerel $cppxdata$??__EmGameDataList@GameDataListMgr@@YAXXZ
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??__FmGameDataList@GameDataListMgr@@YAXXZ DD 010401H
	DD	04204H
?mGameDataList@GameDataListMgr@@3VBymlFile@@A DB 048H DUP (?)
	DB	0ffH					; GameDataListMgr::mGameDataList
	DB	3 DUP(00H)
	DD	00H
	DD	00H
?mGameDataList$initializer$@GameDataListMgr@@3P6AXXZEA DQ FLAT:??__EmGameDataList@GameDataListMgr@@YAXXZ ; GameDataListMgr::mGameDataList$initializer$
; Function compile flags: /Ogtpy
; File H:\Paul\switchemulator\Zelda TotK\MapEditorV4\OldVersion\MapEditor\GameDataListMgr.cpp
;	COMDAT ?Initialize@GameDataListMgr@@YAXXZ
_TEXT	SEGMENT
?Initialize@GameDataListMgr@@YAXXZ PROC			; GameDataListMgr::Initialize, COMDAT

; 12   : 	//mGameDataList = BymlFile(ZStdFile::Decompress(Editor::GetRomFSFile("GameData/GameDataList.Product.110.byml.zs"), ZStdFile::Dictionary::Base).Data);
; 13   : }

	ret	0
?Initialize@GameDataListMgr@@YAXXZ ENDP			; GameDataListMgr::Initialize
_TEXT	ENDS
; Function compile flags: /Ogtpy
; File H:\Paul\switchemulator\Zelda TotK\MapEditorV4\OldVersion\MapEditor\GameDataListMgr.cpp
; File H:\Paul\switchemulator\Zelda TotK\MapEditorV4\OldVersion\MapEditor\Byml.h
; File H:\Paul\switchemulator\Zelda TotK\MapEditorV4\OldVersion\MapEditor\GameDataListMgr.cpp
;	COMDAT ??__EmGameDataList@GameDataListMgr@@YAXXZ
text$di	SEGMENT
??__EmGameDataList@GameDataListMgr@@YAXXZ PROC		; GameDataListMgr::`dynamic initializer for 'mGameDataList'', COMDAT

; 8    : BymlFile GameDataListMgr::mGameDataList;

	sub	rsp, 40					; 00000028H
; File H:\Paul\switchemulator\Zelda TotK\MapEditorV4\OldVersion\MapEditor\Byml.h

; 122  :     BymlFile() {}

	lea	rcx, OFFSET FLAT:?mGameDataList@GameDataListMgr@@3VBymlFile@@A+88
	call	??0?$unordered_map@V?$vector@EV?$allocator@E@std@@@std@@IUVectorHasher@BymlFile@@U?$equal_to@V?$vector@EV?$allocator@E@std@@@std@@@2@V?$allocator@U?$pair@$$CBV?$vector@EV?$allocator@E@std@@@std@@I@std@@@2@@std@@QEAA@XZ ; std::unordered_map<std::vector<unsigned char,std::allocator<unsigned char> >,unsigned int,BymlFile::VectorHasher,std::equal_to<std::vector<unsigned char,std::allocator<unsigned char> > >,std::allocator<std::pair<std::vector<unsigned char,std::allocator<unsigned char> > const ,unsigned int> > >::unordered_map<std::vector<unsigned char,std::allocator<unsigned char> >,unsigned int,BymlFile::VectorHasher,std::equal_to<std::vector<unsigned char,std::allocator<unsigned char> > >,std::allocator<std::pair<std::vector<unsigned char,std::allocator<unsigned char> > const ,unsigned int> > >
	npad	1
	lea	rcx, OFFSET FLAT:?mGameDataList@GameDataListMgr@@3VBymlFile@@A+152
	call	??0?$unordered_map@VNode@BymlFile@@IUNodeHasher@2@UNodeEqual@2@V?$allocator@U?$pair@$$CBVNode@BymlFile@@I@std@@@std@@@std@@QEAA@XZ ; std::unordered_map<BymlFile::Node,unsigned int,BymlFile::NodeHasher,BymlFile::NodeEqual,std::allocator<std::pair<BymlFile::Node const ,unsigned int> > >::unordered_map<BymlFile::Node,unsigned int,BymlFile::NodeHasher,BymlFile::NodeEqual,std::allocator<std::pair<BymlFile::Node const ,unsigned int> > >

; 123  : 
; 124  :     std::vector<BymlFile::Node>& GetNodes();
; 125  :     BymlFile::Type& GetType();
; 126  :     BymlFile::Node* GetNode(std::string Key);
; 127  :     bool HasChild(std::string Key);
; 128  : 
; 129  :     void AddHashKeyTableEntry(std::string Key);
; 130  :     void AddStringTableEntry(std::string String);
; 131  : 
; 132  :     void GenerateHashKeyTable(BymlFile::Node* Node);
; 133  :     void GenerateStringTable(BymlFile::Node* Node);
; 134  : 
; 135  :     std::vector<unsigned char> ToBinary(BymlFile::TableGeneration TableGeneration);
; 136  :     void WriteToFile(std::string Path, BymlFile::TableGeneration TableGeneration);
; 137  : 
; 138  :     struct NodeHasher {
; 139  :         static std::string GenerateNodeHash(const BymlFile::Node& Node)
; 140  :         {
; 141  :             std::string Result = (char)Node.m_Type + Node.m_Key + std::string(Node.m_Value.begin(), Node.m_Value.end());
; 142  :             for (const BymlFile::Node& Child : Node.m_Children)
; 143  :             {
; 144  :                 Result += GenerateNodeHash(Child);
; 145  :             }
; 146  :             return Result;
; 147  :         }
; 148  : 
; 149  :         int operator()(const BymlFile::Node& Node) const
; 150  :         {
; 151  :             std::string StrHash = GenerateNodeHash(Node);
; 152  :             int Hash = StrHash.size();
; 153  :             for (int i = 0; i < StrHash.length(); i++) {
; 154  :                 Hash ^= StrHash[i] + 0x9e3779b9 + (Hash << 6) + (Hash >> 2);
; 155  :             }
; 156  :             return Hash;
; 157  :         }
; 158  :     };
; 159  : private:
; 160  :     struct VectorHasher {
; 161  :         int operator()(const std::vector<unsigned char>& V) const 
; 162  :         {
; 163  :             int Hash = V.size();
; 164  :             for (auto& i : V) {
; 165  :                 Hash ^= i + 0x9e3779b9 + (Hash << 6) + (Hash >> 2);
; 166  :             }
; 167  :             return Hash;
; 168  :         }
; 169  :     };
; 170  : 
; 171  :     struct NodeEqual
; 172  :     {
; 173  :         bool operator()(const BymlFile::Node& Node1, const BymlFile::Node& Node2) const
; 174  :         {
; 175  :             return Node1 == Node2;
; 176  :         }
; 177  :     };
; 178  : 
; 179  :     std::vector<BymlFile::Node> m_Nodes;
; 180  :     std::vector<std::string> m_HashKeyTable;
; 181  :     std::vector<std::string> m_StringTable;
; 182  :     BymlFile::Type m_Type = BymlFile::Type::Null;
; 183  :     uint32_t m_WriterLastOffset = 0;
; 184  :     uint32_t m_WriterReservedDataOffset = 0;
; 185  :     std::unordered_map<std::vector<unsigned char>, uint32_t, VectorHasher> m_CachedValues; //Value in bytes -> Offset
; 186  :     std::unordered_map<BymlFile::Node, uint32_t, NodeHasher, NodeEqual> m_CachedNodes; //Node -> Offset (only containers)
; 187  :     bool mBigEndian = false;

	mov	BYTE PTR ?mGameDataList@GameDataListMgr@@3VBymlFile@@A+216, 0
; File H:\Paul\switchemulator\Zelda TotK\MapEditorV4\OldVersion\MapEditor\GameDataListMgr.cpp

; 8    : BymlFile GameDataListMgr::mGameDataList;

	lea	rcx, OFFSET FLAT:??__FmGameDataList@GameDataListMgr@@YAXXZ ; GameDataListMgr::`dynamic atexit destructor for 'mGameDataList''
	add	rsp, 40					; 00000028H
	jmp	atexit
??__EmGameDataList@GameDataListMgr@@YAXXZ ENDP		; GameDataListMgr::`dynamic initializer for 'mGameDataList''
text$di	ENDS
; Function compile flags: /Ogtpy
;	COMDAT text$x
text$x	SEGMENT
?dtor$0@?0???__EmGameDataList@GameDataListMgr@@YAXXZ@4HA PROC ; `GameDataListMgr::`dynamic initializer for 'mGameDataList'''::`1'::dtor$0
	lea	rcx, OFFSET FLAT:?mGameDataList@GameDataListMgr@@3VBymlFile@@A ; GameDataListMgr::mGameDataList
	jmp	??1?$vector@VNode@BymlFile@@V?$allocator@VNode@BymlFile@@@std@@@std@@QEAA@XZ ; std::vector<BymlFile::Node,std::allocator<BymlFile::Node> >::~vector<BymlFile::Node,std::allocator<BymlFile::Node> >
?dtor$0@?0???__EmGameDataList@GameDataListMgr@@YAXXZ@4HA ENDP ; `GameDataListMgr::`dynamic initializer for 'mGameDataList'''::`1'::dtor$0
text$x	ENDS
; Function compile flags: /Ogtpy
;	COMDAT text$x
text$x	SEGMENT
?dtor$1@?0???__EmGameDataList@GameDataListMgr@@YAXXZ@4HA PROC ; `GameDataListMgr::`dynamic initializer for 'mGameDataList'''::`1'::dtor$1
	lea	rcx, OFFSET FLAT:?mGameDataList@GameDataListMgr@@3VBymlFile@@A ; GameDataListMgr::mGameDataList
	add	rcx, 24
	jmp	??1?$vector@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@V?$allocator@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@2@@std@@QEAA@XZ ; std::vector<std::basic_string<char,std::char_traits<char>,std::allocator<char> >,std::allocator<std::basic_string<char,std::char_traits<char>,std::allocator<char> > > >::~vector<std::basic_string<char,std::char_traits<char>,std::allocator<char> >,std::allocator<std::basic_string<char,std::char_traits<char>,std::allocator<char> > > >
?dtor$1@?0???__EmGameDataList@GameDataListMgr@@YAXXZ@4HA ENDP ; `GameDataListMgr::`dynamic initializer for 'mGameDataList'''::`1'::dtor$1
text$x	ENDS
; Function compile flags: /Ogtpy
;	COMDAT text$x
text$x	SEGMENT
?dtor$2@?0???__EmGameDataList@GameDataListMgr@@YAXXZ@4HA PROC ; `GameDataListMgr::`dynamic initializer for 'mGameDataList'''::`1'::dtor$2
	lea	rcx, OFFSET FLAT:?mGameDataList@GameDataListMgr@@3VBymlFile@@A ; GameDataListMgr::mGameDataList
	add	rcx, 48					; 00000030H
	jmp	??1?$vector@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@V?$allocator@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@2@@std@@QEAA@XZ ; std::vector<std::basic_string<char,std::char_traits<char>,std::allocator<char> >,std::allocator<std::basic_string<char,std::char_traits<char>,std::allocator<char> > > >::~vector<std::basic_string<char,std::char_traits<char>,std::allocator<char> >,std::allocator<std::basic_string<char,std::char_traits<char>,std::allocator<char> > > >
?dtor$2@?0???__EmGameDataList@GameDataListMgr@@YAXXZ@4HA ENDP ; `GameDataListMgr::`dynamic initializer for 'mGameDataList'''::`1'::dtor$2
text$x	ENDS
; Function compile flags: /Ogtpy
;	COMDAT text$x
text$x	SEGMENT
?dtor$3@?0???__EmGameDataList@GameDataListMgr@@YAXXZ@4HA PROC ; `GameDataListMgr::`dynamic initializer for 'mGameDataList'''::`1'::dtor$3
	lea	rcx, OFFSET FLAT:?mGameDataList@GameDataListMgr@@3VBymlFile@@A ; GameDataListMgr::mGameDataList
	add	rcx, 88					; 00000058H
	jmp	??1?$unordered_map@V?$vector@EV?$allocator@E@std@@@std@@IUVectorHasher@BymlFile@@U?$equal_to@V?$vector@EV?$allocator@E@std@@@std@@@2@V?$allocator@U?$pair@$$CBV?$vector@EV?$allocator@E@std@@@std@@I@std@@@2@@std@@QEAA@XZ
?dtor$3@?0???__EmGameDataList@GameDataListMgr@@YAXXZ@4HA ENDP ; `GameDataListMgr::`dynamic initializer for 'mGameDataList'''::`1'::dtor$3
text$x	ENDS
; Function compile flags: /Ogtpy
; File C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.37.32822\include\vector
;	COMDAT ??__FmGameDataList@GameDataListMgr@@YAXXZ
text$yd	SEGMENT
??__FmGameDataList@GameDataListMgr@@YAXXZ PROC		; GameDataListMgr::`dynamic atexit destructor for 'mGameDataList'', COMDAT
	sub	rsp, 40					; 00000028H
	lea	rcx, OFFSET FLAT:?mGameDataList@GameDataListMgr@@3VBymlFile@@A+152
	call	??1?$_Hash@V?$_Umap_traits@VNode@BymlFile@@IV?$_Uhash_compare@VNode@BymlFile@@UNodeHasher@2@UNodeEqual@2@@std@@V?$allocator@U?$pair@$$CBVNode@BymlFile@@I@std@@@4@$0A@@std@@@std@@QEAA@XZ
	lea	rcx, OFFSET FLAT:?mGameDataList@GameDataListMgr@@3VBymlFile@@A+88
	call	??1?$_Hash@V?$_Umap_traits@V?$vector@EV?$allocator@E@std@@@std@@IV?$_Uhash_compare@V?$vector@EV?$allocator@E@std@@@std@@UVectorHasher@BymlFile@@U?$equal_to@V?$vector@EV?$allocator@E@std@@@std@@@2@@2@V?$allocator@U?$pair@$$CBV?$vector@EV?$allocator@E@std@@@std@@I@std@@@2@$0A@@std@@@std@@QEAA@XZ

; 767  :         _Tidy();

	lea	rcx, OFFSET FLAT:?mGameDataList@GameDataListMgr@@3VBymlFile@@A+48
	call	?_Tidy@?$vector@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@V?$allocator@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@2@@std@@AEAAXXZ ; std::vector<std::basic_string<char,std::char_traits<char>,std::allocator<char> >,std::allocator<std::basic_string<char,std::char_traits<char>,std::allocator<char> > > >::_Tidy
	lea	rcx, OFFSET FLAT:?mGameDataList@GameDataListMgr@@3VBymlFile@@A+24
	call	?_Tidy@?$vector@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@V?$allocator@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@2@@std@@AEAAXXZ ; std::vector<std::basic_string<char,std::char_traits<char>,std::allocator<char> >,std::allocator<std::basic_string<char,std::char_traits<char>,std::allocator<char> > > >::_Tidy
	lea	rcx, OFFSET FLAT:?mGameDataList@GameDataListMgr@@3VBymlFile@@A ; GameDataListMgr::mGameDataList
	add	rsp, 40					; 00000028H
	jmp	?_Tidy@?$vector@VNode@BymlFile@@V?$allocator@VNode@BymlFile@@@std@@@std@@AEAAXXZ ; std::vector<BymlFile::Node,std::allocator<BymlFile::Node> >::_Tidy
??__FmGameDataList@GameDataListMgr@@YAXXZ ENDP		; GameDataListMgr::`dynamic atexit destructor for 'mGameDataList''
text$yd	ENDS
END
